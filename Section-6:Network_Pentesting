
40. Network Penetration testing:
***

We will be focusing on wireless networks and gather information about that system and fundamentals of network

1. Pre-Network Connection
2. Connection to Network : Wifi Hacking
3. Post-Network Connection

4. !!! Device required : Wifi Card / Adapter !!!
   But we an use built-in wifi card if Kali is the main OS 

-----------------------------------------------------------------

41. Chipsets:
***

1. If we want to connect VM directly to routers , we use Wifi Cards

2. !!! Wifi Card must support monitor mode and packet injection !!!

3. USB wifi card - has one chipset inside of it
   Example : Atheros AR9271
   	     Ralink RT3070
	     MediaTek MT7610U
4. Tutor uses Alpha Network AWUS 0036 H
5. Also compare whether it supports with Kali Linux or Not

----------------------------------------------------------------

42. WiFi Card List:
***

Kali Linux WiFi Card List

Dear All,

We are sharing chipsets and USB Wi-FÄ° card models here which are known to be compatible with Kali Linux and also supporting monitor mode. However please bear in mind that this situation may differ 
according to your system, setup, computer etc. Thus I suggest you get a refundable one when you go and purchase your own wi-fi card from a store or from e-commerce web sites.

Compatible Chipsets

Atheros AR9271

Ralink RT3070

Ralink RT3572

Ralink RT5572

Realtek RTL8812AU

Ralink RT5370N

More info: 

https://www.wirelesshack.org/best-kali-linux-compatible-usb-adapter-dongles.html

https://null-byte.wonderhowto.com/how-to/buy-best-wireless-network-adapter-for-wi-fi-hacking-2019-0178550/

Direct Links To Known Working Models

We are going to update this links with your contribution:

https://www.amazon.com/Alfa-AWUS036NH-802-11g-Wireless-Long-Range/dp/B003YIFHJY/ref=sr_1_3?crid=3AXPJZJ3XKWS&keywords=awus036nh&qid=1553021468&s=gateway&sprefix=awus0%2Caps%2C370&sr=8-3

https://tr.aliexpress.com/item/Ralink-RT3070-150Mbps-Mini-150M-USB-2-0-WiFi-Wireless-network-card-wi-fi-Wlan-802/32334002552.html

----------------------------------------------------------------------

43. Connecting to WiFi USB:
***

1. PlugIn the USB WiFi drive
2. Connect the router to Laptop not  drive
3. $ ifconfig
4. It has eth0, l0, and now it have wlan0 because the USB drive

--------------------------------------------------------------------

44. Solutions for Common connection problems:

Solutions to Common Connection Problems

Dear All,

If you come across any problem while you try to connect your usb wi-fi card to your Kali Linux you may follow the steps below:

1) Try to define your device within other USB ports rather than your current one within Virtualbox such as 1.0, usb 2.0 or usb 3.0.

2) Try to unplug usb wi-fi card from your computer and plug it in after Kali Linux starts only.

3) Try to plug your usb wi-fi card to different physical USB ports on your physical computer.

4) Open Kali Linux settings from Virtualbox when Kali Linux is closed. Open Processor tab from System section. Make sure you make Enable PAE/NX option ticked.

5) Run this command from terminal and restart Kali Linux

sudo apt-get install linux-image-$(uname -r|sed 's,[^-]*-[^-]*-,,') linux-headers-$(uname -r|sed 's,[^-]*-[^-]*-,,') broadcom-sta-dkms

6) If none of these works you may search for Kali Linux drivers for your usb wi-fi card and find your documentation online to install them on your Kali Linux. This is not necessary for most of the usb 
wi-fi cards however there might be some cases that you need to install this.

7) If nothing above works you should search for your specific usb wi-fi card model and chipset with google such as "Ralink 3070 Kali Linux connection" in order to find simple solutions. If you come 
across with comments stating your device does not work with Kali then you are going to refund it and find another one that works unfortunately.

----------------------------------------------------------------------

45. MAC address ( Media Access Control ):

1. $ ifconfig
2. inet changes to 192.168.. coz I eventually connected to wlan0 to bridged adapter ( Just an extra info )
3. MAC address:
4. $ ifconfig
5. You can find ether in eth0 and wlan0 that is the mac address
6. Every device has unique mac address
7. So you have to alter packets.

8. !!! NOTE : Sometimes you maynot want to change the MAC add to be anonymous, but changing it is advisable

9. $ ifconfig wlan0 down
   # Now I cant able to connect to the Router device becoz it is down

10. $ sudo apt install macchanger

    $ macchanger --help or man macchanger
    # To get manual page about macchanger
    
    $ macchanger --random wlan0
    # This makes mac address random everytime

    $ ifconfig wlan0 up
    # Now Im ready to use wlan0

    $ ifconfig
    # Now it works, you can notice new MAC address

    # If this doesnt work restart Network Manager
    $ service NetworkManager restart (or) service network-manager restart
    # Now new Mac Address

    # To change manually
    $ ifconfig wlan0 down
    $ ifconfig wlan0 hw ether 00:00:11:11:00:00 (6 digits and hw is hardware)
    $ ifconfig wlan0 up

----------------------------------------------------------------------

46. Monitor vs Managed

1. Wifi card should support monitor mode
2. $ ifconfig - can see all avail interfaces in your pc

3. $ iwconfig - wireless interfaces infos
   Mode : Managed ( A regular mode )
   We have to change to monitor mode
   
4. $ airmon-ng and airmon-ng --help
   # usage : airmon-ng <start|stop|check> <interface> [channel or frequency]

5. $ airmon-ng start wlan0
   # it takes wlan0 to monitor mode

6. If it doesnt work the,.
   $ airmon-ng check kill
   #it will kill all the pre processed datas and you can run again

7. Then if successful,

   Now name is : wlan0 ---> wlan0mon

8. To stop the monitor mode
   $ airmon-ng stop wlan0mon

9. NOTE !!!
   ********
   In manage mode - we can able to connect to internet
   In monitor mode - we are not able to connect

10. If any bugs are present inside of this :
    $ service NetworkManager restart (or) service netork-manager restart
    # Otherwise restart the pc (or)
    # This should be your last priority
      	   	  |
		  v
    $ ifconfig wlan0 mode monitor
    $ man ifconfig or ifconfig --help
    
---------------------------------------------------------------------

    
    
    




